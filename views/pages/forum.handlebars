<!-- theme credit: https://bbbootstrap.com/snippets/forum-question-and-answer-listings-pagination-68897148 -->

{{#> caloriesRemainingWidget}}
{{/caloriesRemainingWidget}}
<div id="forum-container" class="container-fluid mt-100">
    <div class="d-flex flex-wrap justify-content-between">
        <div><a class="btn btn-primary btn-large" href="/forum/new" role="button">New Post</a></div>
    </div>
    <div class="card mb-3" role="complementary">
        <div class="card-header pl-0 pr-0">
            <div class="row no-gutters w-100 align-items-center">
                <div class="col ml-3">Topics</div>
                <div class="col-4 text-muted">
                    <div class="row no-gutters align-items-center" id="forum-header">
                        <div class="col-4">Replies</div>
                        <div class="col-8">Last update</div>
                    </div>
                </div>
            </div>
        </div>
        {{#if posts}}
        {{#each posts}}
        <div class="card-body py-3">
            <div class="row no-gutters align-items-center">
                <div class="col"> <a href="/forum/{{this._id}}" class="text-big">{{this.title}}</a>
                    <div class="text-muted small mt-1">Author: {{this.poster.name}}</div>
                </div>
                <div class="d-none d-md-block col-4">
                    <div class="row no-gutters align-items-center">
                        <div class="col-4">{{this.comments.length}}</div>
                        <div class="media col-8 align-items-center"> 
                            <div class="media-body flex-truncate ml-2">
                                <p class="text-muted small text-truncate" data-abc="true">{{getLastPoster this.comments}}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <hr class="m-0">
        {{/each}}
        {{else}}        
            <p class="posts-not-found">We're sorry, but no posts were found!</p>
        {{/if}}
</div>
</div>

